(function(t){function e(e){for(var n,s,i=e[0],u=e[1],l=e[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);c&&c(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var u=a[i];0!==r[u]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var c=u;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),r=a.n(n);r.a},"2e52":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("HomePage")],1)},o=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"HomePage container mt-3 mb-3"},[t.fileUploaded?a("div",[a("AnnotationsPage",{attrs:{json:t.json}})],1):a("div",[a("h1",[t._v("cdQA-annotator")]),a("hr"),t._m(0),t._m(1),t._m(2),a("json-viewer",{attrs:{value:t.jsonData,"expand-depth":10,copyable:""}}),a("br"),a("div",{staticClass:"uploadBar"},[a("b-form-file",{attrs:{state:Boolean(t.file),placeholder:"Upload a JSON file...",accept:".json"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),a("br"),a("b-button",{attrs:{size:"",variant:"primary"},on:{click:function(e){return t.readFile()}}},[t._v("Upload")])],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("\n      cdQA-annotator a web-based annotator for closed-domain question answering datasets created for the\n      "),a("a",{attrs:{href:"https://github.com/cdqa-suite"}},[t._v("cdQA-suite")]),t._v(" project.\n    ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("\n      To get started, upload a\n      "),a("a",{attrs:{href:"https://rajpurkar.github.io/SQuAD-explorer/"}},[t._v("SQuAD v1.1")]),t._v("-like JSON file\n      where each document in the corpus has been pre-cut into paragraphs.\n    ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Example:")])])}],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AnnotationsPage container mt-3"},[n("div",[n("b-navbar",{staticClass:"pl-0",attrs:{sticky:"",toggleable:"lg"}},[n("b-navbar-brand",[t._v("cdQA-annotator")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item",[n("svg-progress-bar",{attrs:{value:t.data_number/t.json.data.length*100,options:t.options}})],1),n("b-nav-form",[n("vue-bootstrap-typeahead",{attrs:{size:"sm",data:t.autocomplete,placeholder:"Search a document..."},on:{hit:function(e){t.data_number=t.autocomplete.indexOf(e)+1,t.context_number=1}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),n("b-nav-item",{attrs:{right:""}},[n("b-button",{directives:[{name:"download-data",rawName:"v-download-data",value:t.valid_json,expression:"valid_json"},{name:"download-data",rawName:"v-download-data:type",value:"json",expression:"'json'",arg:"type"},{name:"download-data",rawName:"v-download-data:filename",value:"cdqa-v1.1.json",expression:"'cdqa-v1.1.json'",arg:"filename"}],attrs:{size:"sm",variant:"primary"},on:{click:function(e){return t.delete_empty_document()}}},[t._v("Download")])],1)],1)],1)],1)],1),n("br"),t.data_number-1<t.json.data.length?n("div",[n("h2",[t._v(t._s(t.json.data[t.data_number-1].title))]),n("span",{staticClass:"text-muted"},[t._v("Paragraph "+t._s(t.context_number)+" of "+t._s(t.json.data[t.data_number-1].paragraphs.length)+" | Document "+t._s(t.data_number)+" of "+t._s(t.json.data.length))]),n("br"),n("br"),n("p",{directives:[{name:"selection",rawName:"v-selection.fix",value:{getSelection:t.getSelection},expression:"{getSelection:getSelection}",modifiers:{fix:!0}}],ref:"paragraph"},[t._v(t._s(t.paragraph_context))]),n("br"),n("b-form-input",{attrs:{type:"text",placeholder:"Type question here..."},model:{value:t.question,callback:function(e){t.question=e},expression:"question"}}),n("br"),n("b-form-input",{attrs:{type:"text",placeholder:"Type answer here..."},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}),n("br"),n("b-button",{attrs:{size:"",variant:"secondary"},on:{click:function(e){return t.addAnnotation()}}},[t._v("Add annotation")]),t._v(" or \n    "),t.context_number<t.json.data[t.data_number-1].paragraphs.length?n("b-button",{attrs:{size:"",variant:"danger"},on:{click:function(e){return t.delete_paragraph()}}},[t._v("Delete paragraph")]):n("b-button",{attrs:{size:"",variant:"danger"},on:{click:function(e){t.delete_paragraph(),t.data_number+=1,t.context_number=1}}},[t._v("Delete paragraph")]),n("br"),n("br"),n("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"Edit",fn:function(e){return[n("b-button",{attrs:{size:"",variant:"danger"},on:{click:function(a){return a.stopPropagation(),t.deleteAnnotation(e.index)}}},[t._v("Delete")])]}}],null,!1,3735499078)}),n("br"),t.data_number>1&&1==t.context_number?n("div",[n("b-button",{attrs:{size:"",variant:"outline-secondary"},on:{click:function(e){t.data_number-=1,t.context_number=t.json.data[t.data_number-1].paragraphs.length}}},[t._v("Previous")]),t._v(" or \n      "),n("b-button",{attrs:{size:"",variant:"outline-primary"},on:{click:function(e){t.context_number+=1}}},[t._v("Next")])],1):t.context_number<t.json.data[t.data_number-1].paragraphs.length?n("div",[n("b-button",{attrs:{size:"",variant:"outline-secondary"},on:{click:function(e){t.context_number-=1}}},[t._v("Previous")]),t._v(" or \n      "),n("b-button",{attrs:{size:"",variant:"outline-primary"},on:{click:function(e){t.context_number+=1}}},[t._v("Next")])],1):n("div",[n("b-button",{attrs:{size:"",variant:"outline-secondary"},on:{click:function(e){t.context_number-=1}}},[t._v("Previous")]),t._v(" or \n      "),n("b-button",{attrs:{size:"",variant:"outline-primary"},on:{click:function(e){t.data_number+=1,t.context_number=1}}},[t._v("Next")])],1),n("br"),n("br")],1):n("div",[t._v("\n    There are no more data to annotate. You can now download your annotated dataset\n    "),n("img",{attrs:{src:a("c43c"),height:"30",width:"30"}}),n("br"),n("br"),n("b-button",{directives:[{name:"download-data",rawName:"v-download-data",value:t.valid_json,expression:"valid_json"},{name:"download-data",rawName:"v-download-data:type",value:"json",expression:"'json'",arg:"type"},{name:"download-data",rawName:"v-download-data:filename",value:"cdqa-v1.1.json",expression:"'cdqa-v1.1.json'",arg:"filename"}],attrs:{size:"",variant:"primary"},on:{click:function(e){return t.delete_empty_document()}}},[t._v("Download")])],1)])},l=[],c=(a("6b54"),a("a481"),a("c64e")),d={name:"AnnotationsPage",props:["json"],data:function(){return{data_number:1,context_number:1,question:"",answer:"",fields:["Questions","Answers","Edit"],query:""}},methods:{addAnnotation:function(){var t=this.json.data[this.data_number-1].paragraphs[this.context_number-1],e={question:this.question,id:c(),answers:[{answer_start:this.answer_start,text:this.answer}]};t.qas.push(e),this.question="",this.answer=""},deleteAnnotation:function(t){var e=this.json.data[this.data_number-1].paragraphs[this.context_number-1];e.qas.splice(t,1)},getSelection:function(t){this.answer=t},delete_paragraph:function(){var t=this.json.data[this.data_number-1].paragraphs;t.splice([this.context_number-1],1)},delete_empty_document:function(){for(var t in this.json.data)0==this.json.data[t].paragraphs.length&&this.json.data.splice(t,1)}},computed:{valid_json:function(){var t=JSON.stringify(this.json).replace(/[\u007F-\uFFFF]/g,(function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).substr(-4)}));return t},autocomplete:function(){for(var t=[],e=0;e<this.json.data.length;e++)t.push(this.json.data[e].title);return t},items:function(){for(var t=this.json.data[this.data_number-1].paragraphs[this.context_number-1],e=[],a=0;a<t.qas.length;a++){var n={Questions:t.qas[a].question,Answers:t.qas[a].answers[0].text};e.push(n)}return e},paragraph_context:function(){return this.json.data[this.data_number-1].paragraphs[this.context_number-1].context},answer_start:function(){return this.paragraph_context.indexOf(this.answer)},options:function(){return{radius:15,circleLineCap:"round",varyStrokeArray:[1,2],pathColors:["lightgrey","rgb(40, 167, 69)"],text:function(t){return this.htmlifyNumber(t)+'<span style="font-size: 1em;">%</span>'},textColor:"black"}}}},p=d,f=a("2877"),b=Object(f["a"])(p,u,l,!1,null,"02004e78",null),m=b.exports,v={name:"HomePage",data:function(){return{jsonData:{data:[{title:"Question answering",paragraphs:[{context:"Question answering (QA) is a computer science discipline within the fields of information retrieval and natural language processing (NLP), which is concerned with building systems that automatically answer questions posed by humans in a natural language.",qas:[]},{context:"A QA implementation, usually a computer program, may construct its answers by querying a structured database of knowledge or information, usually a knowledge base. More commonly, QA systems can pull answers from an unstructured collection of natural language documents.",qas:[]}]},{title:"Natural language processing",paragraphs:"[...]"}]},fileUploaded:!1,file:null,json:null}},methods:{readFile:function(){var t=new FileReader;t.onload=function(t){this.json=JSON.parse(t.target.result),this.fileUploaded=!0}.bind(this),t.readAsText(this.file)}},components:{AnnotationsPage:m}},h=v,_=(a("7590"),Object(f["a"])(h,s,i,!1,null,"7ec37b51",null)),g=_.exports,w={name:"app",components:{HomePage:g}},x=w,y=(a("034f"),Object(f["a"])(x,r,o,!1,null,null,null)),j=y.exports,k=a("5f5b"),q=a("0fba"),A=a.n(q),P=a("b2af"),O=a.n(P),S=a("349e"),N=a.n(S),z=a("fa34"),Q=a.n(z),C=a("d45f");a("f9e3"),a("2dd8");n["default"].use(k["a"]),n["default"].use(A.a),n["default"].directive("selection",O.a),n["default"].use(N.a),n["default"].use(Q.a),n["default"].component("vue-bootstrap-typeahead",C["a"]),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(j)},directives:{selection:O.a}}).$mount("#app")},"64a9":function(t,e,a){},7590:function(t,e,a){"use strict";var n=a("2e52"),r=a.n(n);r.a},c43c:function(t,e,a){t.exports=a.p+"img/ablobmaracas.c2dc836c.gif"}});
//# sourceMappingURL=app.0b6586fd.js.map